<!DOCTYPE html>
<html>
<head>
  <title>Blaze Watch</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- noUiSlider CSS -->
  <link href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css" rel="stylesheet">

  <!-- Leaflet.markercluster CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />

  <!-- Your custom map CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/map.css') }}" />
</head>
<body>

  <!-- Navbar  -->
  <nav class="navbar navbar-expand-md sticky-top navbar-dark bg-dark custom-py-2-5 w-100">
    <div class="d-flex justify-content-between align-items-center mx-auto" style="width: 42rem;">
      <!-- Logo + Title -->
      <div class="d-flex align-items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-fire text-white" viewBox="0 0 16 16">
          <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16m0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15"/>
        </svg>
        <h3 class="navbar-brand mb-0">Blaze Watch</h3>
      </div>

      <!-- Nav Links -->
      <div class="collapse navbar-collapse show">
        <ul class="navbar-nav ms-auto mb-0">
          <li class="nav-item"><a class="nav-link fw-bold py-0 px-0" href="/">Home</a></li>
          <li class="nav-item"><a class="mid-nav-link nav-link fw-bold py-0 px-0 active" href="/map">Map</a></li>
          <li class="nav-item"><a class="last-nav-link nav-link fw-bold py-0 px-0" href="/about">About</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div id="map-loader">
    <p id="main-load">Loading...</p>
  </div>

  <!-- Map Container -->
  <div id="map"></div>

  <!-- Side Panel -->
  <div id="sidePanel">
    <button id="closeBtn">&times;</button>
    <h2>Wildfire Risk Details</h2>
    <div id="riskInfo">Click a red circle to see individual fire details.</div>

    <h3 class="mt-5" >Predicted path</h3>
    <p class="mt-3">Select day:</p>
    <div class="mt-3" id="daySlider"></div>
    <p id="load">Loading Data...</p>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
  <script src="https://unpkg.com/supercluster@7.1.4/dist/supercluster.min.js"></script>
  <script src="{{ url_for('static', filename='scripts/map.js') }}"></script>
</body>
</html>
